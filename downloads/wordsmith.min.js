/*! Wordsmith v1.0 getwordsmith.co | http://getwordsmith.co/license/ */
(function(c){function j(){d&&d.remove();h=d=null}var d,h,a,e,k=!1;c.fn.wordsmith=function(n){a=c.extend({maxWordLength:18,popupWidth:600,popupHeight:400,lookupImage:"http://getwordsmith.co/images/Question_Mark.png",lookupMessage:"Lookup definition",lookupUrl:"http://define.getwordsmith.co/{word}"},n);c(document).on("mouseup",function(){k||j();k=!1});this.on("mouseup",function(m){var b;b="";window.getSelection?b=window.getSelection():document.getSelection?b=document.getSelection():document.selection&&
(b=document.selection.createRange().text);var l=b.toString().replace(/^\s+|\s+$/g,"").toLowerCase();if(0==l.length||l.length>=a.maxWordLength)j(),m.preventDefault();else if(0<l.length){var i=b.getRangeAt(0),f=c("<span/>"),g=document.createRange();g.setStart(b.focusNode,i.endOffset);g.insertNode(f[0]);i=f.offset().left;g=f.offset().top;h&&h.x==i&&h.y==g?f.remove():(j(),d=c('<div id="wordsmith-question" style="'+("margin: 0; padding: 0; position: absolute; width: "+e.width+"; height: "+e.height)+'"><a href="#" id="wordsmith-lookup" title="'+
a.lookupMessage+'"><img src="'+a.lookupImage+'"/></a></div>'),h={sel:b,x:i,y:g},f.parent().append(d[0]),c("#wordsmith-lookup").on("mousedown",function(a){k=true;a.preventDefault();return false}),d.css({left:i-e.width/1.5,top:g-e.height/1.5}),f.remove(),c("#wordsmith-lookup").click(function(b){var c=a.lookupUrl.replace("{word}",l);window.open(c,"wordsmith","width="+a.popupWidth+",height="+a.popupHeight+",left="+(screen.width-a.popupWidth)/2+",top="+(screen.height-a.popupHeight)/2+",location=1,scrollbars=1");
b.preventDefault();return false}));m.preventDefault()}});this.on("mousedown",function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().reappNamemoveAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty();j();k=!0});e=new Image;e.src=a.lookupImage}})(jQuery);
